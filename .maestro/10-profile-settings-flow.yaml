appId: host.exp.Exponent
---
# Profile and Settings Navigation Test
# Tests: Access profile, view settings, check user info

- launchApp
- openLink: exp://192.168.0.104:8081
- waitForAnimationToEnd:
    timeout: 5000

# Handle retry button if network error
- runFlow:
    when:
      visible: "Retry"
    commands:
      - tapOn: "Retry"
      - waitForAnimationToEnd:
          timeout: 3000

# Login if needed
- runFlow:
    when:
      visible: "Email"
    commands:
      - tapOn: "Email"
      - inputText: "admin@kraftlog.com"
      - tapOn: "Password"
      - inputText: "admin123"
      - tapOn: "Sign In"
      - waitForAnimationToEnd:
          timeout: 5000

# Wait for app to fully load
- waitForAnimationToEnd:
    timeout: 5000

# Navigate to Profile tab (4th tab, rightmost)
- tapOn:
    point: "90%,95%"
- waitForAnimationToEnd:
    timeout: 3000

# Verify profile screen loaded with user info
- assertVisible:
    text: ".*"

# Check if we can see email or username
- runFlow:
    when:
      visible: "admin@kraftlog.com"
    commands:
      # Email is visible, profile loaded correctly
      - assertVisible:
          text: "admin@kraftlog.com"

# Look for settings or edit profile option
- runFlow:
    when:
      visible: "Settings"
    commands:
      - tapOn: "Settings"
      - waitForAnimationToEnd:
          timeout: 2000
      - assertVisible:
          text: ".*"
      - back
      - waitForAnimationToEnd:
          timeout: 2000
