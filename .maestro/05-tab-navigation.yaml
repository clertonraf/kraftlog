appId: host.exp.Exponent
---
# Tab Navigation Test  
# Tests: Navigate through bottom tabs

- launchApp

# Open the KraftLog app via deep link
- openLink: exp://192.168.0.104:8081
- waitForAnimationToEnd:
    timeout: 10000
- waitForAnimationToEnd:
    timeout: 5000

# If we see a Retry button (network error), tap it
- runFlow:
    when:
      visible: "Retry"
    commands:
      - tapOn: "Retry"
      - waitForAnimationToEnd:
          timeout: 5000
      - waitForAnimationToEnd:
          timeout: 3000

# Login if needed
- runFlow:
    when:
      visible: "Email"
    commands:
      - tapOn: "Email"
      - inputText: "admin@kraftlog.com"
      - tapOn: "Password"
      - inputText: "admin123"
      - tapOn: "Sign In"
      - waitForAnimationToEnd:
          timeout: 5000
      - waitForAnimationToEnd:
          timeout: 3000

# Wait extra time for home screen to load
- waitForAnimationToEnd:
    timeout: 3000

# Verify Home tab - check for any of these texts
- runFlow:
    when:
      visible: "Welcome to KraftLog!"
    commands:
      - assertVisible: "Welcome to KraftLog!"

# Alternative: check if we're logged in by looking for user info
- runFlow:
    when:
      notVisible: "Welcome to KraftLog!"
    commands:
      - assertVisible:
          text: ".*"

# Navigate to Routines tab
- tapOn: "Routines"
- waitForAnimationToEnd
- assertVisible: "My Routines"

# Back to Home tab
- tapOn: "Home"
- waitForAnimationToEnd
